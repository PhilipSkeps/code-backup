---
title: 'Lab 6-1: Hypothesis testing with categorical data'
output:   html_notebook
---

### Objectives:

For this lab you should...

  - Learn the R code that runs χ2 tests for Goodness of Fit, Homogeneity, Independence.
  - Collect your own data and run the above tests.
  - Read datasets into R and draw inference based on hypothesis tests.

```{r preamble, echo = F, message = F}
# Clear Workspace
rm(list = ls())
knitr::opts_chunk$set(echo=FALSE)



# load packages we typically use for this class.
library(mosaic, warn.conflicts = FALSE) 
library(ggformula, warn.conflicts = FALSE)
```  


# Part 1: Collect your own sample for Goodness of Fit Test

You will roll a 6 sided die 50 times using one of the random websites like <https://www.random.org/dice/>. Tally your results. (If you would prefer to use a die with a different number of faces, please do so!)


**TASK 1.0** Modify the code below to:

  - create a vector of your results, x.  Remember that x is the *counts* of your outcomes, rather than the outcomes themselves.  
  - Run a hypothesis test that the die is fair.
  
```{r, echo = F}
x <- c(7, 5, 9, 9, 9, 11)
chisq.test(x)
```

**TASK 1.1** State the appropriate set of hypotheses for this test, and complete the table below to indicate how many of each die faces you  observed.
  
    **Response** Ho: P1 = P2 = P3 = P4 = P5 = P6 H1: at least one pair Pi != Pj
    
  |  1  |  2  |  3  |  4  |  5  |  6  |
  |:---:|:---:|:---:|:---:|:---:|:---:|
  |8.333|8.333|8.333|8.333|8.333|8.333|
    

**TASK 1.2** What is the p-value from R?

    **Response** p-value =.7674
    
**TASK 1.3**  Make a conclusion in context that answers the research question:  "Is the die unfair?"

    **Response** We are unable to conclude that the die is unfair as the p-value calculated (0.7674) is higher than the testing level (0.05)
    
**TASK 1.4**  Were all of the conditions for the validity of this test met?  Explain your answer.

    **Response**  All the conditions for the validity of this test were met because all expected counts were greater than or equal to 5.
    

# Part 2: χ2 test for independence

**TASK 2.0** You will locate 20 people of whom you must ask two questions, each of which is categorical in nature. You
plan to test whether the responses to these questions are dependent on one another.  

*Tips for collecting your data* You should draw your two-way contingency table in advance. When you ask each person both questions, their "response" will be recorded in one of the cells of the contingency table. In addition, it's not a good idea to ask questions that have too many categories. Ideally, no more than 4 per variable.

**TASK 2.1** Write down the two questions you asked.

    **Response** Did you catch covid over the summer and what time zone were you in?
    

**TASK 2.2**  Realistically, do you believe that thse two variables could be related?  Explain.

    **Response** I do believe that these variables could be related as covid cases seemed to be regional at the beginning of covid.
    
**TASK 2.3** State the hypotheses for this test.

    **Response** Ho: Catching covid is independent of time sone, H1: Catching covid is not independent of time zone.
    
**TASK 2.4**  Modify the code below to calculate a p-value for your hypothesis test.

```{r, echo = F}
# create a set of data called z
z <- c(8,5,8,10)
y <- c(10,13,10,15)
  
# make a matrix of your data
M <- rbind(z,y)

# have R run a chi-squared test for independence
chisq.test(M)
```

**TASK 2.5** State your p-value for the test.

    **Response** p = .7039
    
**TASK 2.6** What can you conclude regarding the dependence of your variables?

    **Response** we cannot conclude that time zone and catching covid are nto independent as the p-value (.7039) was greater than the testing level.
    
**TASK 2.7**  Were all of your conditions for the validity of the test met?  Explain.

    **Response** All conditions were met because all members of the matrix were greater than 5.
    
**TASK 2.8** If you were to choose *one* of the questions you asked your classmates, how would this translate into a χ2 goodness of fit test?  Explain by writing an appropriate set of null and alternative hypotheses.

    **Response** Question: Did you catch covid over the summer. H0: Pno = Pyes H1: Pno != Pyes
    

# Part 3: Categorical Data

The table below shows a breakdown of 762 people for hair color and eye color.

  |       | Fair | Red | Medium | Dark | Black |
  |:-----:|:----:|:---:|:------:|:----:|:-----:|
  | Blue  |  69  | 28  |   68   |  51  |   6   |
  | Green |  69  | 38  |   55   |  37  |   0   |
  | Brown |  90  | 47  |   94   |  94  |  16   |
  
**TASK 3.0** Enter the data into R and run a χ2 test.

```{r, echo = F}
x = c(69, 28, 68, 51, 6)
y = c(69, 38, 55, 37, 0)
z = c(90, 47, 94, 94, 16)
M <- rbind(x,y,z)
chisq.test(M)
```

**TASK 3.1** What type of test does this most closely align with?  Your options are Goodness of Fit or Independence.

    **Response** This test most aligns with a test for independence.
    
**TASK 3.2** State the set of hypotheses for this test.

    **Response** Ho: Hair color is independent of eye color. H1: Hair color is not independent of eye color
    
**TASK 3.3** What can you conclude from this test?

    **Response** We are able to conclude that hair color is not independent of eye color as the p-value (0.00735) is less than the testing level (0.05)
