---
title: 'Lab 4-2: A comprehensive overview of confidence intervals'
output:   html_notebook
---

### Objectives:

For this lab you should...

  - Learn the R code that produces confidence intervals when the unknown parameter is $p$, $\mu$, $\mu_x - \mu_y$, $\mu_D$.
  - Read datasets into R and draw inference based on confidence intervals.
  - Collect your own data, generate a vector, and create an appropriate confidence interval.
  
  
```{r preamble, echo = F, message = F}
# Clear Workspace
rm(list = ls())
knitr::opts_chunk$set(echo=FALSE)



# load packages we typically use for this class.
library(mosaic, warn.conflicts = FALSE) 
library(ggformula, warn.conflicts = FALSE)
library(rlang)
library(dplyr)
```  
You will need the following dataset: FuelEconomy.csv .  Download from Canvas, and you will read it into your workspace for Part 2.

# Part 1: A confidence interval for the face of a die

Use an online dice simulator <https://www.random.org/dice/> to roll a die 100 times, and record the number of times you see the die land on a four.  

**TASK 1.1** State your estimate, $\hat{p}$, based on the proportion of observed fours from the 100 rolls of the die.

    **Response**  $\hat{p}$ = .13
    


**TASK 1.2** Modify and run the code below to calculate the 95% confidence interval for the true proportion of rolling a 4.  

    ** Response ** (.0894 0.2244)
```{r, echo = F}
# Note that R needs assistance to use the p-tilde approximation.  

prop.test(13+2, 100+4, correct = FALSE)$conf.int # where x = number of fours and n = # of rolls
```

Now consult with a classmate who observed a different 100 rolls of the die.  Combine your data to now have a sample of size 200.

**TASK 1.3** State your estimate, $\hat{p}$ from the combined dataset (n=200), still counting fours.

    **Response:** $\hat{p}$ = .145
    

**TASK 1.4** Calculate the 95% confidence interval for the proportion of fours with n=200.  

    ** Response ** (0.109 0.208)
```{r, echo = F}
prop.test(29+2, 200+4, correct = FALSE)$conf.int # where x = number of fours and n = # of rolls
```

**TASK 1.5**  A claim is made that the true proportion of witnessing a 4 is 12%.  Is this claim plausible, based on your n= 100 interval?  Explain.

    **Response:** We are 95% confident that the true proportion of witnessing a 4 is plausibly 12% because 12% lies between the bounds (.0894 0.2244)


**TASK 1.6**  Is the claim plausible, based on your interval with the n = 200 combined dataset?

    **Response:** We are 95% confident that the true proportion of witnessing a 4 is plausibly 12% because 12% lies between the bounds (0.109 0.208)
    

# Part 2: Comparing intervals for difference in means versus paired data

The dataset FuelEconomy.csv represents a sample of ten diesel truck engines, run at both hot and cold temperatures, to estimate the difference in fuel economy. Results are given in miles per gallon. The data are PAIRED. The result for each truck is reported first for a hot engine, then for a cold engine. You must determine if the temperature of the engine causes a significant difference in fuel economy.

**TASK 2.0** Import the data.

```{r, echo = F}
mpg <- read.csv(file.choose())
```

**TASK 2.1** Use the code below to construct a 95% confidence interval for the difference in means, and determine if you can conclude a difference in fuel economy.  

    **Response:** (-1.242 0.446) you cannot conclude a difference in fuel economy because the interval contains 0.

```{r, echo = F}
t.test(MPG ~ Temp, data = mpg)$conf.int
```

**TASK 2.2** Use the code below to construct a 95% confidence interval for the paired data to determine if there is a difference in fuel economy, using the code.  

    **Response:** (-0.509 -0.287) you can conclude that there is a difference in fuel economy for the paired data because the interval does not contain zero

```{r, echo = F}
t.test(MPG ~ Temp, data = mpg, paired = TRUE)$conf.int
```


**TASK 2.3** How do your conclusions about the fuel economy of hot versus cold engines differ based on the two types of confidence intervals?

    **Response:** for the non paired difference you cannot conclude that the fuel economy differ at hot and cold temperatures while for the paired difference
    you can conclude that the fuel economy differ at hot and cold temperatures
    

**TASK 2.4** Why is the confidence interval for the paired data narrower than the interval with two samples?

    **Response:** the paired data computes the standard deviation of the differnece between the two samples while the non paired data does a linear combination 
    of the two standard deviations resulting in a larger standard deviation than the paired test and therefore resulting in a larger spread
    

**TASK 2.5** Which approach is more appropriate for the context of this problem: paired testing or 2-sample testing?  Explain.

    **Response:** The paired test is more appropriate for the 2-sample testing because the same trucks were tested twice.
    
    
**TASK 2.6** Now assume that the experiment was altered.  10 trucks were tested in Houston, TX for fuel efficiency of a hot engine.  10 trucks were tested in Alaska for fuel efficiency with cold engines.  Which approach is more appropriate for the context of this new problem: paired testing or 2-sample testing?  Explain.

    **Response:** The 2-sample testing is more appropraite because the trucks not longer belong to the same group, 20 total trucks are tested in this sampling scheme.
    

# Part 3:  Collect your own sample.

You will think of a claim/question with a numeric outcome to be tested, and take a sample of size no less than 25. Make sure that your question is NOT of the yes/no variety. Bonus points for very creative questions!

**TASK 3.0** Enter your data

```{r, echo = F}
Data =c(1.5, 1.2, 3.2, 4, 1, 0, 5, 2.2, 2.3, 4.4, 1.9, 1.7, 1.8, 1.9, 2.4, 2.7, 2.3, 5.1, 2.2, 0.5, 2.1, .7, 2.3, 5.3, .5, .3, 4.4, 3.1, 1.3)
```

**TASK 3.1** Write down the question that you asked.

    **Response:**  The average time spent using a phone by students at colorado school of mines is 2 hours
    
    
**TASK 3.2** State the sample size, degrees of freedom, and sample mean for your data:

    **Response:** n = 29 DOF = 28 mean = 2.32
    
```{r, echo = F}
favstats(Data)
```

**TASK 3.3** Calculate the 90% and 95% confidence interval for your data.

    **Response ** 90% => (1.853 2.788) 95% => (1.758 2.884)
```{r, echo = F}
t.test(Data, conf.level = .9)$conf.int
t.test(Data, conf.level = .95)$conf.int
```


**TASK 3.4** Based on the 95% interval, what can you plausibly claim to be true regarding your question?

    **Response:** We are 95% confident that the mean phone time used by colorado school of mines students is 2 hours is plausible because it lies within the bounds
    (1.758 2.884)
    
    
**TASK 3.5** Based on the 95% interval, what is a statement that should be rejected regarding your question?

    **Response:** It can be rejected that the mean phone time used by colorado school of mines students is 3.0 hours with 95% confidence


**TASK 3.6**  Generate a boxplot of your dataset. Comment on whether it is appropriate to construct a confidence interval with your dataset.

    **Response:** It is approximately normal therefore it is appropriate to construct a confidence interval with the dataset

```{r, echo = F}
boxplot(Data)
```

**TASK 3.7**   Joke:  “What do you call a tea party with more than 30 attendees?  A Z Party!”  Explain why this joke is so hilarious.

    **Response:** when n is greater than 30 you can use the Z test instead of the t test.  Therefore because the party has more than thirty attendants the tea party becomes 
    a z party (HAHAHA)

