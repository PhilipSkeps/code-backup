---
title: 'Lab 5-1: Hypothesis testing means and proportions'
output:   html_notebook
---

### Objectives:

For this lab you should...

  - Learn the R code that runs hypothesis tests when the unknown parameter is $p$ or $\mu$.
  - Collect your own data, generate a vector, and run a hypothesis test.
  - Read datasets into R and draw inference based on hypothesis tests AND confidence intervals.
  

```{r preamble, echo = F, message = F}
# Clear Workspace
rm(list = ls())
knitr::opts_chunk$set(echo=FALSE)



# load packages we typically use for this class.
library(mosaic, warn.conflicts = FALSE) 
library(ggformula, warn.conflicts = FALSE)
library(rlang)
library(dplyr)
```  

# Part 1: A hpothesis test with dice

Again, use an online random dice generator (such as <https://www.random.org/dice/>) to roll 50 dice. 

The different rolls of the die are worth different point values.

  - a 1 is worth 5 points
  - a 2 or 3 is worth 10 points
  - a 4 or 5 is worth 6 points
  - a 6 is worth 8 points.
  
**TASK 1.0** Create a vector the points.  You can do this by modifying the code below, replacing n1 with the number of 1s rolled, for example.

```{r, echo = F}
mydata <- c(rep(5,9),rep(10,17),rep(6,13),rep(8,11))
```

**TASK 1.1** Calculate the sample mean of points and sample standard deviation of points.

    **Response** mean => 7.62 sd => 1.99
    
```{r, echo = F}
mean(mydata)
sd(mydata)
```

Our goal is to test the following hypotheses:

\[H_0:\ \mu \le 6\ vs\ \ H_1:\ \mu>6\]

**TASK 1.2** Using the information from 1.1, decide whether the given hypothesis test is well-posed (your data agrees with $H_1$).  Explain.

    **Response** The given hypothesis test is well posed because my data agrees with H1 (7.62 > 6)

**TASK 1.3** Use the code below to decide whether we can reject $H_0$ based on your data.  Explain your answer.

    **Response** The p-value is extrordinarly small (2.733e-07) therefore we can reject that mu is less than or equal to 6
    
```{r, echo = F}
t.test(mydata, alternative = "greater", mu = 6)
```

**TASK 1.4** Does the output produce a confidence interval, or one-sided bound? What level of confidence is it?

    **Response** it produced a onesided lower bound with a confidence interval of 95%
    
 **TASK 1.5** Show the code that would test the alternate hypothesis \[H_1: \mu < 7\] 
 
    **Response** t.test(mydata, alternative = "less", mu = 7)


# Part 2: Collect your own sample

This time you will think of a claim/question with a YES/NO answer to be tested, and take a sample of size 28 (ideally).  

**TASK 2.0** Before you ask anyone the question, think about what the claim you want to make is and what the corresponding hypotheses are.  

Next, go around and ask your classmates the question, tally your results (count all the YES answers, and the sample size).

**TASK 2.1** Write down the question that you asked your classmates and the research question you want to answer.

    **Response** Is stats and prob your favorite class.  will more than 10% of the class list stats and prob as their favorite class

**TASK 2.2** State the set of hypotheses that correspond to your research question.

    **Response** H0 p <= .1; H1 > .1

**TASK 2.3** State the sample size and $\hat{p}$ for your data.

    **Response** n = 15, $\hat{p}$ = .13333
```{r, echo = F}
2/15
```

**TASK 2.4** Modify and run the code below to calculate the p-value for your test.

    **Response** the p value was calculated to be .3335

```{r, echo = F}
prop.test(x=2,n=15,p=.1,alternative = "greater",correct=FALSE)
```

**TASK 2.5** Report the confidence bound/interval for your test.

    **Response** 95% confidence interval (0.045 1.00)


**TASK 2.6** Use your results to answer your research question in context.

    **Response** We cannot conclude that the true proportion of people who think stats is there favorite class is greater than .1. The true proportion of people who think 
    stats is their favorite class is plausibly less than .1 as shown by a p-value greater than 0.05 (.334)
    
    
# Part 3: Simulation with Binomial Data

Consider the two null hypotheses below:

\[H_0:\ \mu = 50\ \ \ \text{or} \ \ H_0:\ \mu = 200\]

In this section you will test these hypotheses using data generated from a binomial distribution.

**TASK 3.1** Generate 100 data points of Binomial data that has 250 trials and success probability p = 0.20.  (Type ?rbinom into R for reminders on creating the Binomial data). Record your sample as a named object in R so you can use it in 3.0.1.

```{r, echo = F}
mydata = rbinom(100,250,.2)
```
**TASK 3.2** Without looking at your binomial data, and just considering what you know about how it was generated, which of the null hypotheses above should turn out to be plausible?  Explain.

    **Response** The true mean of the binomial distribution should be 50 therefore the first null hypothesis mu = 50 should be plausible while the other mu = 200 should not


**TASK 3.3** Use t.test() to use your data to test the null hypotheses above.

```{r, echo = F}
t.test(mydata, mu=50)
t.test(mydata, mu=200)
```

**TASK 3.4** State your p-value for $H_0:\ \mu = 50$.

    **Response** p-value = 0.691
    
**TASK 3.4** State your p-value for $H_0:\ \mu = 200$.

    **Response** p-value < 2.2e-16

**TASK 3.6** Based on your answers to 3.4 and 3.5, which of the null hypotheses is plausible?  Does this match you answer from 3.2?

    **Response** the mu = 50 is plausible while mu = 200 does not.  this matches the initial prediction in 3.2


**TASK 3.7** State a null hypothesis for the mean, similar to those in Task 3.3, that will result in a p-value that is between 5\% and 25\%. (Play around with the code in R, changing the specified value for mu until you come up with the desired result.)

    **Response** mu = 51 gives a p-value between 5% and 25% (16.07%)
    
```{r, echo = F}
t.test(mydata, mu=51)
```
