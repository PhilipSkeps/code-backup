---
title: 'Lab 1-2: Probability'
output: html_notebook
---

### Objectives:

For this lab you should...

  - estimate probabilities using data.
  - evaluate probability statements using the basic axioms of probability

```{r preamble, echo = F, message = F}
# Clear Workspace
rm(list = ls())
knitr::opts_chunk$set(echo=FALSE)

# load packages we typically use for this class.
library(mosaic, warn.conflicts = FALSE) 
library(ggformula, warn.conflicts = FALSE)
```

## Introduction

In 2002 the Euro was introduced.  It was, and remains, a shared currency across countries in the Euro Zone.  During the following nine years (2002--2011), a study was performed to measure the flow and use of Euro coins.

Each year, randomly selected people in France were invited to open their wallets/pockets  The number and origin of each type of coin was recorded.

The article describing the study and the data is available here: <https://www.sciencedirect.com/science/article/pii/S2352340921003656>.

The raw data (you will use a processed subset) is available here: <https://www.sciencedirect.com/science/article/pii/S2352340921003656>


**TASK 1.0** Download the dataset EuroCoins.csv from Canvas. Once you've downloaded it, using the following code to read it into R:

```{r,echo = F}

EuroCoins <- read.csv(file.choose()) #select your file in its saved location when the prompt opens

```

**TASK 1.1** Use glimpse() to explore the data's structure. List the variable names and determine how many coins are observed in these data.

    **Response:** 
    
    Number of coins observed: 59803
    
    Variable names: CoinID, Year, CoinType, Nation

```{r,echo = F}

glimpse(EuroCoins)
```

# Part 2: Define events and estimate probability

Consider the three events defined below:

  - Event A: a coin's value is 1 euro
  - Event B: a coin's value is 5 cents or less
  - Event C: a coin is French

**TASK 2.1** Estimate P(A) and P(B) using the EuroCoins data.  Please note there are many ways to do this in R that calculate (# coins with value 1 euro)/(Total # coins), we simply present the simplest method to calculate the numerator, since you calculated the denominator already in task 1.1

    **Response** P(A) = 0.100   , P(B) = 0.477
    
```{r}
# gives count of observations in each category of Response
tally( ~ CoinType, data = EuroCoins)
5990/59803
(8049 + 10196 + 10253) / (59803)

# you can use the space below as a calculator if you'd like to calculate probabilities

```

**TASK 2.2** Find P(A union B) and P(A intersect B); you do not need any fancy R code for this.

    **Response** P(A union B) = 0.577 P(A intersect B) = 0.000

```{r}
# You can use this R chunk as a calculator if you wish

.100 + .477

```

**TASK 2.3** Write and run the necessary code to estimate P(C).

    **Response** P(C) = 0.963
    
```{r}
sum( ~ Nation == "French", data = EuroCoins) / 59803
```

**TASK 2.4**  Modify the code below to calculate P(A intersect C).

    **Response** P(A intersect C) = 0.0937
    
```{r}
tally( Nation ~ CoinType, data = EuroCoins)
5606 / 59803
```

**TASK 2.5** Use your answers from tasks 2.3 and 2.4 to calculate P(A | C).

    **Response** P(A | C) = 0.0973
    
```{r}
# you can use this R chunk as a calculator or leave it blank
0.0937 / 0.9630621
```


# Part 3: Comparing the years.

Consider the following events:

  - Event C: a coin is French
  - Event D: a coin was observed in 2002

Use the new coding and probability skills you gained above to calculate:

**TASK 3.1** P(C | D)

    **Response** P(C | D) = 0.987
```{r}
tally( Nation ~ Year, data = EuroCoins)
46282 / ( 46282 + 633 )
```



**TASK 3.2**  P(C | $D^c$), where $D^c$ is the complement of D.

    **Response** P(C | $D^c$) = 0.878
```{r}
11312 / ( 11312 + 1576 )
```


**TASK 3.3** Make a statement in the context of coins in the eurozone about what you learn from comparing the two probabilities from tasks 3.1 and 3.2.

    **Response** It is more likely for a frenchmans euro to have been minted in germany in 2011 than it was in 2002 
    when the euro was first introduced.  This is a result of travel been countries and the circulation of the euro.  A study should be conducted every 9 years to attempt to predict a general trend for the circulation of the euro 
    between eurozone countries.
